
# ? ?








==========================================


01 M 
safeTransfer

02 M 
stale

03 M 
approve(0)

04 M 
fee on transfer

05 M 
minAnswer

06 M 
grace period

07 M 
hardcode path

08 M 
hardcode heartbeat

09 M 
debt interest timestamp
update too early

10 M
_min_amount_out base should not be position_amount

11 M
bad debt accounting
should minus bad debt

12 M
oracle negative price

13 M
no liq reward

14 M
Bad debt is not updated when liquidating

15 M
change interest should accrue first

16 M
math interest rate kink
wrong solution for equation

17 M
uni sqrtPriceX96ToUint overflow

18 M
twap overflow
loop many multiply

19 M
uni_fee
should consider fee in the multi hop swap

20 M
miss update debt liq

21 M
miss update debt remove margin

22 M
cancel order keeper mess with array index
should use hash map

23 M
loss cover tier
after the first cover, 2nd tier cover is missing calculate

24 M
interest amplify
inconsistent from test number

25 M
`MarginDex::execute_limit_order` will always revert

26 M
reduce position to 0, margin locked

27 M
rounding direction

28 M
uni path direction


01 H 
wrong math
leverage
nominator should be position size
not debt + margin

02 H 
wrong math
reduce margin amount
denominator should be debt + margin

03 H 
forget to add margin back after reduce position

04 H 
wrong address

05 H 
oracle decimal

06 H 
DCA 
path mid token TWAP manipulation

07 H 
dos bad debt
contract go into special mode not accepting new orders

08 H
self sandwich
loss to the protocol




